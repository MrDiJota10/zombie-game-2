<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Scooter Zombie 2D</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: #222;
    font-family: sans-serif;
  }
  canvas {
    display: block;
    background: #555;
    margin: 0 auto;
  }
</style>
</head>
<body>
<canvas id="gameCanvas" width="600" height="400"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

// Jugador (scooter)
const player = {
  x: 50,
  y: canvas.height / 2 - 20,
  width: 40,
  height: 40,
  speed: 5
};

// Zombies
const zombies = [];
const zombieSpeed = 2;
let spawnCounter = 0;

// Controles
const keys = {};
document.addEventListener('keydown', e => keys[e.key] = true);
document.addEventListener('keyup', e => keys[e.key] = false);

// Generar zombies
function spawnZombie() {
  const y = Math.random() * (canvas.height - 40);
  zombies.push({x: canvas.width, y: y, width: 40, height: 40});
}

// Colisiones
function checkCollision(a, b) {
  return a.x < b.x + b.width &&
         a.x + a.width > b.x &&
         a.y < b.y + b.height &&
         a.y + a.height > b.y;
}

// Juego principal
function gameLoop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Mover jugador
  if (keys['ArrowUp'] && player.y > 0) player.y -= player.speed;
  if (keys['ArrowDown'] && player.y + player.height < canvas.height) player.y += player.speed;

  // Dibujar jugador
  ctx.fillStyle = 'blue';
  ctx.fillRect(player.x, player.y, player.width, player.height);

  // Generar zombies cada cierto tiempo
  spawnCounter++;
  if (spawnCounter > 100) {
    spawnZombie();
    spawnCounter = 0;
  }

  // Mover y dibujar zombies
  ctx.fillStyle = 'green';
  for (let i = zombies.length - 1; i >= 0; i--) {
    zombies[i].x -= zombieSpeed;
    ctx.fillRect(zombies[i].x, zombies[i].y, zombies[i].width, zombies[i].height);

    // Colisión
    if (checkCollision(player, zombies[i])) {
      alert('¡Has sido atrapado por un zombie! Juego terminado.');
      zombies.length = 0;
      player.x = 50;
      player.y = canvas.height / 2 - 20;
    }

    // Eliminar zombies fuera de pantalla
    if (zombies[i].x + zombies[i].width < 0) zombies.splice(i, 1);
  }

  requestAnimationFrame(gameLoop);
}

gameLoop();
</script>
</body>
</html>
